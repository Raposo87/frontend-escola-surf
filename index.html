<!DOCTYPE html>
<html lang="pt">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' https://*.stripe.com; script-src 'self' https://*.stripe.com; style-src 'self' 'unsafe-inline' https://*.stripe.com; img-src 'self' https://*.stripe.com; frame-src https://*.stripe.com;">
    <title>Surf Wave Lisboa - Escola de Surf</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- Cabeçalho Hero -->
    <header class="hero">
      <img src="#" alt="Surf Wave Lisboa Logo" class="logo" />
      <h1>Surf Wave Lisboa</h1>
      <p>
        Aprenda a surfar com os melhores instrutores na praia mais famosa de
        Portugal. Aulas para todas as idades e níveis.
      </p>
      <a href="https://wa.me/+351969013614" target="_blank" class="btn"
        >Fale conosco</a
      >
    </header>

    <!-- Seção de Aulas -->
    <section id="aulas" class="aulas">
      <div class="container">
        <h2 class="section-title">Nossas Aulas de Surf</h2>
        <div class="aulas-grid">
          <!-- Aula 1 -->
          <div class="aula-card">
            <img
              src="https://images.pexels.com/photos/1549180/pexels-photo-1549180.jpeg?auto=compress&cs=tinysrgb&w=800"
              alt="Aula Iniciante"
              class="aula-img"
            />
            <div class="aula-content">
              <h3 class="aula-title">Aulas de surf em grupo</h3>
              <p class="aula-desc">
                Instrutor Certificado de Prancha e Roupa de Surf Seguro
                Esportivo.
              </p>
              <p class="aula-info">1 Aula de SURF - 1:30 Horas | Valor: €30</p>
              <button
                class="btn reservar-btn"
                data-preco="30"
                data-descricao="Aulas de surf em grupo"
              >
                Reservar
              </button>
            </div>
          </div>

          <!-- Aula 2 -->
          <div class="aula-card">
            <img
              src="https://images.pexels.com/photos/6299937/pexels-photo-6299937.jpeg?auto=compress&cs=tinysrgb&w=800"
              alt="Aula Intermediária"
              class="aula-img"
            />
            <div class="aula-content">
              <h3 class="aula-title">Aulas de surf em grupo com transfer</h3>
              <p class="aula-desc">
                Prancha e Fato de Surf Instrutor Certificado Seguro Desportivo.
              </p>
              <p class="aula-info">1 Aula de SURF - 1:30 Horas | Valor: €30</p>
              <button
                class="btn reservar-btn"
                data-preco="30"
                data-descricao="Aulas de surf em grupo com transfer"
              >
                Reservar
              </button>
            </div>
          </div>

          <!-- Aula 3 -->
          <div class="aula-card">
            <img
              src="https://images.pexels.com/photos/1549196/pexels-photo-1549196.jpeg?auto=compress&cs=tinysrgb&w=800"
              alt="Aula Avançada"
              class="aula-img"
            />
            <div class="aula-content">
              <h3 class="aula-title">
                Aula de surf em grupo intermediário com transferência
              </h3>
              <p class="aula-desc">
                Transporte para a praia Prancha de surfe e roupa de neoprene
                nível 1 e 2. Instrutor certificado com mais de 15 anos de
                experiência. Seguro esportivo.
              </p>
              <p class="aula-info">1 aula de SURF - 1h30. | Valor: €70</p>
              <button
                class="btn reservar-btn"
                data-preco="70"
                data-descricao="Aula de surf em grupo intermediário com transferência"
              >
                Reservar
              </button>
            </div>
          </div>

          <!-- Aula 4 -->
          <div class="aula-card">
            <img
              src="https://images.pexels.com/photos/7863329/pexels-photo-7863329.jpeg?auto=compress&cs=tinysrgb&w=800"
              alt="Aula em Grupo"
              class="aula-img"
            />
            <div class="aula-content">
              <h3 class="aula-title">Aula para crianças menores de 12 anos</h3>
              <p class="aula-desc">
                Instrutor Certificado de Prancha e Roupa de Surf Seguro
                Esportivo.
              </p>
              <p class="aula-info">
                1 Aula de SURF - 1:30 Horas | Valor: €40/pessoa
              </p>
              <button
                class="btn reservar-btn"
                data-preco="40"
                data-descricao="Aula para crianças menores de 12 anos"
              >
                Reservar
              </button>
            </div>
          </div>

          <!-- Aula 5 -->
          <div class="aula-card">
            <img
              src="https://images.pexels.com/photos/6299899/pexels-photo-6299899.jpeg?auto=compress&cs=tinysrgb&w=800"
              alt="Aula Particular"
              class="aula-img"
            />
            <div class="aula-content">
              <h3 class="aula-title">Aulas Particulares</h3>
              <p class="aula-desc">
                Instrutor Certificado de Prancha e Roupa de Surf Seguro
                Esportivo.
              </p>
              <p class="aula-info">1 Aula de SURF - 1:30 Horas | Valor: €70</p>
              <button
                class="btn reservar-btn"
                data-preco="70"
                data-descricao="Aulas Particulares"
              >
                Reservar
              </button>
            </div>
          </div>

          <!-- Aula 6 -->
          <div class="aula-card">
            <img
              src="https://images.pexels.com/photos/7659060/pexels-photo-7659060.jpeg?auto=compress&cs=tinysrgb&w=800"
              alt="Aula para Crianças"
              class="aula-img"
            />
            <div class="aula-content">
              <h3 class="aula-title">
                Aulas particulares de surf com transfer
              </h3>
              <p class="aula-desc">
                Transporte para a praia Prancha e Fato de Surf Instrutor
                Certificado Seguro Desportivo.
              </p>
              <p class="aula-info">1 Aula de SURF - 1:30 Horas | Valor: €45</p>
              <button
                class="btn reservar-btn"
                data-preco="45"
                data-descricao="Aulas particulares de surf com transfer"
              >
                Reservar
              </button>
            </div>
          </div>

          <!-- Aula 7 -->
          <div class="aula-card">
            <img
              src="https://images.pexels.com/photos/4602229/pexels-photo-4602229.jpeg?auto=compress&cs=tinysrgb&w=800"
              alt="Pacote Semanal"
              class="aula-img"
            />
            <div class="aula-content">
              <h3 class="aula-title">Aula de dia inteiro com transferência</h3>
              <p class="aula-desc">
                Transporte para a praia Prancha e Fato de Surf Instrutor
                Certificado Seguro Desportivo.
              </p>
              <p class="aula-info">2 Aulas de SURF - 1:30 Horas| Valor: €200</p>
              <button
                class="btn reservar-btn"
                data-preco="200"
                data-descricao="Aula de dia inteiro com transferência"
              >
                Reservar
              </button>
            </div>
          </div>

          <!-- Aula 8 -->
          <div class="aula-card">
            <img
              src="https://media.istockphoto.com/id/1299566407/pt/foto/asian-cheerful-man-playing-surfskate-or-skate-board-in-outdoor-park-at-night-over-photo-blur.jpg?b=1&s=612x612&w=0&k=20&c=aCY86bv5UukW76seJxKE5HHOT_G5tda5PcqxZqI0zfY="
              alt="Surf Noturno"
              class="aula-img"
            />
            <div class="aula-content">
              <h3 class="aula-title">Aula de Surfskate.</h3>
              <p class="aula-desc">
                Localização: Costa da Caparica, skate e equipamento. Instrutor
                certificado. Vídeos para análise.
              </p>
              <p class="aula-info">1 aula de surfskate - 1 hora | Valor: €20</p>
              <button
                class="btn reservar-btn"
                data-preco="20"
                data-descricao="Aula de Surfskate"
              >
                Reservar
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Seção Sobre -->
    <section class="sobre">
      <div class="container">
        <div class="sobre-content">
          <h2 class="section-title">Sobre a Surf Wave Lisboa</h2>
          <p class="sobre-text">
            A Surf Wave Lisboa é uma divertida escola de surfe em Lisboa,
            Portugal. A escola foi fundada por brasileiros criados por
            pescadores, vindos de pequenas vilas do litoral brasileiro.
            Apaixonados por surfe e por tudo que envolve o mar! Com água salgada
            correndo nas veias, eles sabem em primeira mão o que o surfe pode
            ensinar às pessoas. Eles não querem apenas te ensinar a surfar, eles
            querem que você tenha uma experiência realmente incrível. Eles se
            preocupam com a natureza e querem que você aprenda valores
            importantes como respeito, persistência e trabalho em equipe
            enquanto pega ondas. Os professores têm mais de 16 anos de
            experiência em surfe e têm um conhecimento melhor do oceano do que a
            maioria dos instrutores de surfe. Isso nos torna únicos. O objetivo
            da Surf Wave Lisboa não é apenas te tornar um bom surfista, mas
            também te tornar alguém que ama o oceano e pode usar as coisas
            legais que você aprende com o surfe no seu dia a dia. Eles esperam
            que você se torne uma força positiva no mundo, espalhando boas
            vibrações e fazendo a diferença.
          </p>
        </div>
      </div>
    </section>

    <!-- Rodapé -->
    <footer>
      <div class="container">
        <div class="footer-container">
          <div class="footer-info">
            <div class="footer-contact">
              <h3>Contactos</h3>
              <p>
                <i class="fas fa-map-marker-alt"></i> Tabu Beach Club, Praia
                Cabana do Pescador
              </p>
              <p>2825-491, Costa da Caparica, Portugal</p>
              <p><i class="fas fa-phone"></i> +351 969 013 614</p>
              <p><i class="fas fa-phone"></i> +351 961 793 637</p>
              <p><i class="fas fa-envelope"></i> info@surfwavelisboa.com</p>
              <a
                href="https://www.livroreclamacoes.pt/Pedido/Reclamacao"
                target="_blank"
                >Livro de reclamaçoes</a
              >
            </div>
            <div class="social-icons">
              <a href="#" class="social-icon"
                ><i class="fab fa-facebook-f"></i
              ></a>
              <a
                href="https://www.instagram.com/surfwavelisbon/"
                class="social-icon"
                ><i class="fab fa-instagram"></i
              ></a>
            </div>
          </div>
          <iframe
            src="https://maps.google.com/maps?q=%20Surf%20Wave%20Lisbon%20Praia%20da%20Cabana%20do%20Pescador%2C%202825-491%20Costa%20da%20Caparica&t=m&z=11&output=embed&iwloc=near"
            class="map"
            allowfullscreen=""
            loading="lazy"
          ></iframe>
        </div>
        <div class="copyright">
          <p>&copy; 2023 Surf Wave Lisboa. Todos os direitos reservados.</p>
        </div>
      </div>
    </footer>

    <!-- Modal de Agendamento -->
    <div id="modal-agendamento" class="modal">
      <div class="modal-content">
        <span id="fechar-modal" class="close">&times;</span>
        <h2 id="reserva-titulo"></h2>
        <p id="reserva-preco"></p>
        <form id="form-agendamento">
          <input
            type="text"
            id="nome"
            name="nome"
            required
            placeholder="Nome"
          />
          <input
            type="email"
            id="email"
            name="email"
            required
            placeholder="Email"
          />
          <input type="date" id="data" name="data_agendamento" required />
          <input type="time" id="horario" name="horario" required />
          <button type="submit">Agendar</button>
        </form>
        <div id="mensagem-agendamento" class="mensagem"></div>
      </div>
    </div>

    <script>
      // Variável global para guardar o preço selecionado
      let precoSelecionado = 0;

      // Função para abrir o modal de agendamento com os dados da aula
      function abrirModalAgendamento(descricao, preco) {
        document.getElementById("reserva-titulo").textContent = descricao;
        document.getElementById(
          "reserva-preco"
        ).textContent = `Preço: €${preco}`;
        precoSelecionado = preco; // Salva o preço selecionado
        document.getElementById("modal-agendamento").style.display = "flex";
      }

      // Função para fechar o modal de agendamento
      function fecharModalAgendamento() {
        document.getElementById("modal-agendamento").style.display = "none";
        document.getElementById("mensagem-agendamento").style.display = "none";
        document.getElementById("form-agendamento").reset();
      }

      document.addEventListener("DOMContentLoaded", function () {
        // Adiciona evento aos botões de reservar
        const reservarBtns = document.querySelectorAll(".reservar-btn");
        reservarBtns.forEach((btn) => {
          btn.addEventListener("click", function () {
            const descricao = this.dataset.descricao;
            const preco = Number(this.dataset.preco);
            abrirModalAgendamento(descricao, preco);
          });
        });

        document.getElementById("fechar-modal").onclick =
          fecharModalAgendamento;

        window.onclick = function (event) {
          const modal = document.getElementById("modal-agendamento");
          if (event.target === modal) {
            fecharModalAgendamento();
          }
        };

        // Lógica do formulário de agendamento
        document.getElementById("form-agendamento").onsubmit = function (e) {
          e.preventDefault();

          const nome = document.getElementById("nome").value;
          const email = document.getElementById("email").value;
          const data_agendamento = document.getElementById("data").value;
          const horario = document.getElementById("horario").value;
          const preco = precoSelecionado;

          fetch(
            "https://site-escola-surf-production.up.railway.app/criar-sessao-pagamento",
            {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify({
                nome,
                email,
                data_agendamento,
                horario,
                preco,
              }),
            }
          )
            .then((response) => response.json())
            .then((data) => {
              if (data.url) {
                window.location.href = data.url;
              } else {
                document.getElementById("mensagem-agendamento").innerText =
                  "Erro ao iniciar pagamento.";
                document.getElementById("mensagem-agendamento").style.display =
                  "block";
              }
            })
            .catch((error) => {
              document.getElementById("mensagem-agendamento").innerText =
                "Erro ao iniciar pagamento. Tente novamente.";
              document.getElementById("mensagem-agendamento").style.display =
                "block";
              console.error(error);
            });
        };

        // Configurar data mínima para hoje
        const hoje = new Date();
        const dd = String(hoje.getDate()).padStart(2, "0");
        const mm = String(hoje.getMonth() + 1).padStart(2, "0");
        const yyyy = hoje.getFullYear();
        const dataMinima = yyyy + "-" + mm + "-" + dd;
        document.getElementById("data").min = dataMinima;
      });
    </script>
  </body>
</html>
